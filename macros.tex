% !TEX root = ./main.tex

%%% Editing Convience Macros

\newif\ifdraft
\drafttrue
\newcommand{\TODO}[1]{\ifdraft{\textcolor{red}{\textbf{TODO}: {#1}}}\fi}
\newcommand{\mck}[1]{\ifdraft{\color{purple}[#1 --Matt]}\fi}
\newcommand{\hxf}[1]{\ifdraft{\color{blue}[#1 --Haoxiang]}\fi}
\newcommand{\cyr}[1]{\ifdraft{\color{green}[#1 --Cyrus]}\fi}


%%% Hazel language highlight

\lstdefinelanguage{hazel}{
  columns=fullflexible,
  keepspaces=true,
  basicstyle=\ttfamily\color{black},
  keywords={
    let, in, case, end, type,
    eval, pause, hide, debug, filter, do,
  },
  keywordstyle=\bfseries\color{black},
  commentstyle=\color{gray},
}

%%% Stepper/Filter Semantics

\DeclareMathSymbol{\Gamma}{\mathalpha}{operators}{0}
\DeclareMathSymbol{\Delta}{\mathalpha}{operators}{1}
\DeclareMathSymbol{\Theta}{\mathalpha}{operators}{2}
\DeclareMathSymbol{\Lambda}{\mathalpha}{operators}{3}
\DeclareMathSymbol{\Xi}{\mathalpha}{operators}{4}
\DeclareMathSymbol{\Pi}{\mathalpha}{operators}{5}
\DeclareMathSymbol{\Sigma}{\mathalpha}{operators}{6}
\DeclareMathSymbol{\Upsilon}{\mathalpha}{operators}{7}
\DeclareMathSymbol{\Phi}{\mathalpha}{operators}{8}
\DeclareMathSymbol{\Psi}{\mathalpha}{operators}{9}
\DeclareMathSymbol{\Omega}{\mathalpha}{operators}{10}

%% Kinds

\DeclareMathOperator{\DefPat}{Pat}
\DeclareMathOperator{\DefExp}{Exp}
\DeclareMathOperator{\DefVal}{Val}
\DeclareMathOperator{\DefCtx}{Ctx}
\DeclareMathOperator{\DefAct}{Act}
\DeclareMathOperator{\DefGas}{Gas}
\DeclareMathOperator{\DefFilter}{Filter}
\DeclareMathOperator{\KeywordFilter}{filter}
\DeclareMathOperator{\KeywordHide}{hide}
\DeclareMathOperator{\KeywordEval}{eval}
\DeclareMathOperator{\KeywordPause}{pause}
\DeclareMathOperator{\KeywordDebug}{debug}
\DeclareMathOperator{\KeywordResidue}{do}

%% Terms

% Pat
\newcommand{\PatExpr}{\mathtt{\$e}}
\newcommand{\PatValue}{\mathtt{\$v}}

% Act
\newcommand{\ActSkip}{\mathsf{skip}}
\newcommand{\ActStep}{\mathsf{step}}

% Gas
\newcommand{\GasOne}{\mathsf{one}}
\newcommand{\GasAll}{\mathsf{all}}

% Expr
\newcommand{\Nat}[1]{\underline{#1}}
\newcommand{\Lam}[2]{\lambda #1 . #2}

\newcommand{\Filter}[2]{\KeywordFilter #1 ~\mathsf{in}~ #2}
\newcommand{\FilterEval}[2]{\KeywordEval #1 ~\mathsf{in}~ #2}
\newcommand{\FilterHide}[2]{\KeywordHide #1 ~\mathsf{in}~ #2}
\newcommand{\FilterDebug}[2]{\KeywordDebug #1 ~\mathsf{in}~ #2}
\newcommand{\FilterPause}[2]{\KeywordPause #1 ~\mathsf{in}~ #2}

\newcommand{\Residue}[4]{\prescript{#1}{#3}{\langle} #4 \rangle^{#2}}
\newcommand{\ResidueEval}[2]{\KeywordEval \# #1 ~\mathsf{in}~ #2}
\newcommand{\ResidueHide}[2]{\KeywordHide \# #1 ~\mathsf{in}~ #2}
\newcommand{\ResiduePause}[2]{\KeywordPause \# #1 ~\mathsf{in}~ #2}
\newcommand{\ResidueDebug}[2]{\KeywordDebug \# #1 ~\mathsf{in}~ #2}

%% Functions

\newcommand{\FSubst}[3]{[#1/#2] #3}
\DeclareMathOperator{\Strip}{strip}
\DeclareMathOperator{\Decay}{decay}

%% Judgments

\newcommand{\FCMark}{\circ}

\newcommand{\Value}[1]{#1~\mathsf{value}}
\newcommand{\FEStep}[2]{#1 \mapsto #2}

\newcommand{\Decompose}[3]{#1 = #2 \{ #3 \}}
\newcommand{\Compose}[3]{#1 = #2 \{ #3 \}}

\newcommand{\Matches}[2]{#1 \mathrel{\mathop{\triangleright}} #2}
\newcommand{\FPatMatchesExpOp}{\mathrel{\mathop{\triangleright}}}
\newcommand{\FPatMatchesExp}[2]{#1 \FPatMatchesExpOp #2}
\newcommand{\FPatNotMatchesExpOp}{\mathrel{\mathop{\not\triangleright}}}
\newcommand{\FPatNotMatchesExp}[2]{#1 \FPatNotMatchesExpOp #2}

\newcommand{\FPatMatchesCtxOpL}{\mathrel{\mathop{\triangleright_\circ}}}
\newcommand{\FPatMatchesCtxOpR}{\mathrel{\mathop{\triangleleft_\circ}}}
\newcommand{\FPatMatchesCtx}[3]{#1 \FPatMatchesCtxOpL #2 \{ #3 \}}

\newcommand{\FInstruct}[3]{#1 \vdash #2 \rightsquigarrow #3}
\newcommand{\Instruct}[6]{(#1, #2, #3, #4) \vdash #5 \rightsquigarrow #6}

\newcommand{\Analyze}[3]{#1 \vdash #2 \dashv #3}

\newcommand{\FTrans}[2]{#1 \rightarrow #2}

\newcommand{\RuleSkip}[2]{#1 \rightarrow^{\ast} #2}
\newcommand{\RuleStep}[2]{#1 \mapsto #2}

\newcommand{\FHasType}[3]{#1 \vdash #2 : #3}
\newcommand{\FInTypeContext}[3]{#1 : #2 \in #3}
\newcommand{\FTNat}{\mathbb{N}}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "main"
%%% End:
